!function(t){var r={};function e(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}e.m=t,e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:n})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,r){if(1&r&&(t=e(t)),8&r)return t;if(4&r&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&r&&"string"!=typeof t)for(var o in t)e.d(n,o,function(r){return t[r]}.bind(null,o));return n},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},e.p="",e(e.s=1)}([function(t,r,e){"use strict";function n(t,r,e,o){this.message=t,this.expected=r,this.found=e,this.location=o,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,n)}!function(t,r){function e(){this.constructor=t}e.prototype=r.prototype,t.prototype=new e}(n,Error),n.buildMessage=function(t,r){var e={literal:function(t){return'"'+o(t.text)+'"'},class:function(t){var r,e="";for(r=0;r<t.parts.length;r++)e+=t.parts[r]instanceof Array?c(t.parts[r][0])+"-"+c(t.parts[r][1]):c(t.parts[r]);return"["+(t.inverted?"^":"")+e+"]"},any:function(t){return"any character"},end:function(t){return"end of input"},other:function(t){return t.description}};function n(t){return t.charCodeAt(0).toString(16).toUpperCase()}function o(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+n(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+n(t)}))}function c(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+n(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+n(t)}))}return"Expected "+function(t){var r,n,o,c=new Array(t.length);for(r=0;r<t.length;r++)c[r]=(o=t[r],e[o.type](o));if(c.sort(),c.length>0){for(r=1,n=1;r<c.length;r++)c[r-1]!==c[r]&&(c[n]=c[r],n++);c.length=n}switch(c.length){case 1:return c[0];case 2:return c[0]+" or "+c[1];default:return c.slice(0,-1).join(", ")+", or "+c[c.length-1]}}(t)+" but "+function(t){return t?'"'+o(t)+'"':"end of input"}(r)+" found."},t.exports={SyntaxError:n,parse:function(t,r){r=void 0!==r?r:{};var e,o={},c={start:rt},u=rt,a=/^[0-9]/,i=J([["0","9"]],!1,!1),l=G("(",!1),s=G(")",!1),f=G("<",!1),h=G(">",!1),p=G("+",!1),d=G("-",!1),v=G("*",!1),g=G("/",!1),m=/^[ \t\n]/,A=J([" ","\t","\n"],!1,!1),x=G("//",!1),b=/^[^\n]/,y=J(["\n"],!0,!1),C=G("paper",!1),w=G("pen",!1),S=G("line",!1),E=G("set",!1),_=G("[",!1),j=G("]",!1),M=G("repeat",!1),O=G("{",!1),k=G("}",!1),F=G("command",!1),T=G("number",!1),I=G("\n",!1),P=G("log",!1),R=G("forever",!1),L=G("stop",!1),$=G("value",!1),z=/^[_a-zA-Z]/,H=J(["_",["a","z"],["A","Z"]],!1,!1),Z=/^[_a-zA-Z0-9]/,B=J(["_",["a","z"],["A","Z"],["0","9"]],!1,!1),U=0,N=0,V=[{line:1,column:1}],W=0,q=[];if("startRule"in r){if(!(r.startRule in c))throw new Error("Can't start parsing from rule \""+r.startRule+'".');u=c[r.startRule]}function D(r,e){throw e=void 0!==e?e:X(N,U),tt([K(r)],t.substring(N,U),e)}function G(t,r){return{type:"literal",text:t,ignoreCase:r}}function J(t,r,e){return{type:"class",parts:t,inverted:r,ignoreCase:e}}function K(t){return{type:"other",description:t}}function Q(r){var e,n=V[r];if(n)return n;for(e=r-1;!V[e];)e--;for(n={line:(n=V[e]).line,column:n.column};e<r;)10===t.charCodeAt(e)?(n.line++,n.column=1):n.column++,e++;return V[r]=n,n}function X(t,r){var e=Q(t),n=Q(r);return{start:{offset:t,line:e.line,column:e.column},end:{offset:r,line:n.line,column:n.column}}}function Y(t){U<W||(U>W&&(W=U,q=[]),q.push(t))}function tt(t,r,e){return new n(n.buildMessage(t,r),t,r,e)}function rt(){var t,r,e;return t=U,(r=et())!==o&&ut()!==o?(N=t,e=r,t=r=function(t){dt=t,e({})}):(U=t,t=o),t}function et(){var t,r,e,n,c,u;for(t=U,r=[],e=U,(n=ut())!==o&&(c=nt())!==o?e=n=[n,c]:(U=e,e=o);e!==o;)r.push(e),e=U,(n=ut())!==o&&(c=nt())!==o?e=n=[n,c]:(U=e,e=o);return r!==o&&(N=t,u=r,r=function(t){for(let r of u)r[1](t)}),t=r}function nt(){var r;return(r=function(){var r,e,n;r=U,"paper"===t.substr(U,5)?(e="paper",U+=5):(e=o,Y(C));e!==o&&ut()!==o&&(n=ft())!==o?(N=r,c=n,r=e=function(t){dt.ctx.fillStyle=c(t),dt.ctx.fillRect(0,0,100,100)}):(U=r,r=o);var c;return r}())===o&&(r=function(){var r,e,n;r=U,"pen"===t.substr(U,3)?(e="pen",U+=3):(e=o,Y(w));e!==o&&ut()!==o&&(n=ft())!==o?(N=r,c=n,r=e=function(t){dt.ctx.strokeStyle=c(t)}):(U=r,r=o);var c;return r}())===o&&(r=function(){var r,e,n,c,u,a;r=U,"line"===t.substr(U,4)?(e="line",U+=4):(e=o,Y(S));e!==o&&ut()!==o&&(n=ht())!==o&&ut()!==o&&(c=ht())!==o&&ut()!==o&&(u=ht())!==o&&ut()!==o&&(a=ht())!==o?(N=r,i=n,l=c,s=u,f=a,r=e=function(t){dt.ctx.moveTo(i(t),l(t)),dt.ctx.lineTo(s(t),f(t)),dt.ctx.stroke()}):(U=r,r=o);var i,l,s,f;return r}())===o&&(r=function(){var r,e,n,c,u,a,i;r=U,"set"===t.substr(U,3)?(e="set",U+=3):(e=o,Y(E));e!==o&&ut()!==o&&(n=pt())!==o&&ut()!==o&&(c=ot())!==o?(N=r,l=n,s=c,r=e=function(t){t[l]=s(t)}):(U=r,r=o);var l,s;r===o&&(r=U,"set"===t.substr(U,3)?(e="set",U+=3):(e=o,Y(E)),e!==o&&ut()!==o?(91===t.charCodeAt(U)?(n="[",U++):(n=o,Y(_)),n!==o&&ut()!==o&&(c=ht())!==o&&ut()!==o&&(u=ht())!==o&&ut()!==o?(93===t.charCodeAt(U)?(a="]",U++):(a=o,Y(j)),a!==o&&ut()!==o&&(i=ft())!==o?(N=r,f=c,h=u,p=i,r=e=function(t){dt.ctx.fillStyle=p(t),dt.ctx.fillRect(f(t),h(t),1,1)}):(U=r,r=o)):(U=r,r=o)):(U=r,r=o));var f,h,p;return r}())===o&&(r=function(){var r,e,n,c,u,a,i,l;r=U,"repeat"===t.substr(U,6)?(e="repeat",U+=6):(e=o,Y(M));e!==o&&ut()!==o&&(n=pt())!==o&&ut()!==o&&(c=ot())!==o&&ut()!==o&&(u=ot())!==o&&ut()!==o?(123===t.charCodeAt(U)?(a="{",U++):(a=o,Y(O)),a!==o&&(i=et())!==o&&ut()!==o?(125===t.charCodeAt(U)?(l="}",U++):(l=o,Y(k)),l!==o?(N=r,s=n,f=c,h=u,p=i,r=e=function(t){for(t[s]=f(t);t[s]<h(t);t[s]++)p(t)}):(U=r,r=o)):(U=r,r=o)):(U=r,r=o);var s,f,h,p;return r}())===o&&(r=function(){var r,e,n,c,u,a,i;r=U,"command"===t.substr(U,7)?(e="command",U+=7):(e=o,Y(F));e===o&&("number"===t.substr(U,6)?(e="number",U+=6):(e=o,Y(T)));e!==o&&ut()!==o&&(n=pt())!==o&&(c=function(){var t,r,e;t=U,r=[],e=it();for(;e!==o;)r.push(e),e=it();r!==o&&(N=t,n=r,console.log("Args",n),r=n);var n;return t=r}())!==o&&ut()!==o?(123===t.charCodeAt(U)?(u="{",U++):(u=o,Y(O)),u!==o&&(a=et())!==o&&ut()!==o?(125===t.charCodeAt(U)?(i="}",U++):(i=o,Y(k)),i!==o?(N=r,l=n,s=c,f=a,r=e=function(t){t[l]=function(r,e){const n={...t,...r};return s.forEach((function(t,r){n[t]=e[r](n)})),console.log(n),f(n)}}):(U=r,r=o)):(U=r,r=o)):(U=r,r=o);var l,s,f;return r}())===o&&(r=function(){var r,e,n;r=U,"log"===t.substr(U,3)?(e="log",U+=3):(e=o,Y(P));e!==o&&ut()!==o&&(n=ot())!==o?(N=r,c=n,r=e=function(t){console.log("Log",c(t))}):(U=r,r=o);var c;return r}())===o&&(r=function(){var r,e,n,c;r=U,(e=pt())!==o&&(n=lt())!==o?(10===t.charCodeAt(U)?(c="\n",U++):(c=o,Y(I)),c!==o?(N=r,u=e,a=n,r=e=function(t){return t.hasOwnProperty(u)||D(`Command ${u} not defined`),console.log("Cmd",u),t[u](t,a)}):(U=r,r=o)):(U=r,r=o);var u,a;return r}())===o&&(r=function(){var r,e,n,c,u;r=U,"forever"===t.substr(U,7)?(e="forever",U+=7):(e=o,Y(R));e!==o&&ut()!==o?(123===t.charCodeAt(U)?(n="{",U++):(n=o,Y(O)),n!==o&&(c=et())!==o&&ut()!==o?(125===t.charCodeAt(U)?(u="}",U++):(u=o,Y(k)),u!==o?(N=r,a=c,r=e=function(t){console.log("Forever"),dt.timer=setInterval((function(){a(t)}),1e3)}):(U=r,r=o)):(U=r,r=o)):(U=r,r=o);var a;return r}())===o&&(r=function(){var r,e;r=U,"stop"===t.substr(U,4)?(e="stop",U+=4):(e=o,Y(L));e!==o&&(N=r,e=function(t){console.log("Stop"),dt.timer?(clearInterval(dt.timer),dt.timer=null):D("Not in a forever loop")});return r=e}())===o&&(r=function(){var r,e,n;r=U,"value"===t.substr(U,5)?(e="value",U+=5):(e=o,Y($));e!==o&&(n=ot())!==o?(N=r,r=e=n):(U=r,r=o);return r}()),r}function ot(){var r,e,n,c,u,v,g,m;if(r=U,e=[],a.test(t.charAt(U))?(n=t.charAt(U),U++):(n=o,Y(i)),n!==o)for(;n!==o;)e.push(n),a.test(t.charAt(U))?(n=t.charAt(U),U++):(n=o,Y(i));else e=o;return e!==o&&(N=r,g=e,e=function(){return parseInt(g.join(""),10)}),(r=e)===o&&(r=U,40===t.charCodeAt(U)?(e="(",U++):(e=o,Y(l)),e!==o&&(n=function r(){var e,n,c,u;e=U,(n=ct())!==o&&ut()!==o?(43===t.charCodeAt(U)?(c="+",U++):(c=o,Y(p)),c!==o&&ut()!==o&&(u=r())!==o?(N=e,a=n,i=u,e=n=function(t){return a(t)+i(t)}):(U=e,e=o)):(U=e,e=o);var a,i;e===o&&(e=U,(n=ct())!==o&&ut()!==o?(45===t.charCodeAt(U)?(c="-",U++):(c=o,Y(d)),c!==o&&ut()!==o&&(u=r())!==o?(N=e,l=n,s=u,e=n=function(t){return l(t)-s(t)}):(U=e,e=o)):(U=e,e=o),e===o&&(e=ct())===o&&(e=ot()));var l,s;return e}())!==o?(41===t.charCodeAt(U)?(c=")",U++):(c=o,Y(s)),c!==o?(N=r,r=e=n):(U=r,r=o)):(U=r,r=o),r===o&&(r=U,(e=pt())!==o&&(N=r,m=e,e=function(t){return t.hasOwnProperty(m)||D(`Variable ${m}Â not defined`),t[m]}),(r=e)===o&&(r=U,60===t.charCodeAt(U)?(e="<",U++):(e=o,Y(f)),e!==o&&(n=ut())!==o&&(c=pt())!==o&&(u=lt())!==o?(62===t.charCodeAt(U)?(v=">",U++):(v=o,Y(h)),v!==o?(N=r,r=e=function(t,r){return function(e){return e.hasOwnProperty(t)||D(`Command ${t} not defined`),console.log("Cmd as value",t),e[t](e,r)}}(c,u)):(U=r,r=o)):(U=r,r=o)))),r}function ct(){var r,e,n,c,u,a,i,l;return r=U,(e=ot())!==o&&ut()!==o?(42===t.charCodeAt(U)?(n="*",U++):(n=o,Y(v)),n!==o&&ut()!==o&&(c=ct())!==o?(N=r,u=e,a=c,r=e=function(t){return u(t)*a(t)}):(U=r,r=o)):(U=r,r=o),r===o&&(r=U,(e=ot())!==o&&ut()!==o?(47===t.charCodeAt(U)?(n="/",U++):(n=o,Y(g)),n!==o&&ut()!==o&&(c=ct())!==o?(N=r,i=e,l=c,r=e=function(t){return i(t)/l(t)}):(U=r,r=o)):(U=r,r=o),r===o&&(r=ot())),r}function ut(){var r,e,n,c;for(r=U,e=[],n=at();n!==o;)e.push(n),n=at();if(e!==o){for(n=[],m.test(t.charAt(U))?(c=t.charAt(U),U++):(c=o,Y(A));c!==o;)n.push(c),m.test(t.charAt(U))?(c=t.charAt(U),U++):(c=o,Y(A));n!==o?r=e=[e,n]:(U=r,r=o)}else U=r,r=o;return r}function at(){var r,e,n,c,u;for(r=U,e=[],m.test(t.charAt(U))?(n=t.charAt(U),U++):(n=o,Y(A));n!==o;)e.push(n),m.test(t.charAt(U))?(n=t.charAt(U),U++):(n=o,Y(A));if(e!==o)if("//"===t.substr(U,2)?(n="//",U+=2):(n=o,Y(x)),n!==o){for(c=[],b.test(t.charAt(U))?(u=t.charAt(U),U++):(u=o,Y(y));u!==o;)c.push(u),b.test(t.charAt(U))?(u=t.charAt(U),U++):(u=o,Y(y));c!==o?r=e=[e,n,c]:(U=r,r=o)}else U=r,r=o;else U=r,r=o;return r}function it(){var t,r;return t=U,ut()!==o&&(r=pt())!==o?(N=t,t=r):(U=t,t=o),t}function lt(){var t,r,e,n,c;return t=U,(r=st())!==o&&(e=lt())!==o?(N=t,n=r,(c=e).unshift(n),t=r=c):(U=t,t=o),t===o&&(t=U,(r=st())!==o&&(N=t,r=function(t){return[t]}(r)),t=r),t}function st(){var r,e;return r=U,function(){var r,e,n,c;for(r=U,e=[],n=at();n!==o;)e.push(n),n=at();if(e!==o){if(n=[],m.test(t.charAt(U))?(c=t.charAt(U),U++):(c=o,Y(A)),c!==o)for(;c!==o;)n.push(c),m.test(t.charAt(U))?(c=t.charAt(U),U++):(c=o,Y(A));else n=o;n!==o?r=e=[e,n]:(U=r,r=o)}else U=r,r=o;return r}()!==o&&(e=ot())!==o?(N=r,r=e):(U=r,r=o),r}function ft(){var t,r,e;return t=U,(r=ot())!==o&&(N=t,e=r,r=function(t){let r=e(t);!("_nocheck"in t&&1==t._nocheck)&&(r<0||r>100)&&D("Color must be between 0 and 100, got ${color}"),r*=2.55;let n=Math.round(r).toString(16);return n.length<2&&(n="0"+n),"#"+n.repeat(3)}),t=r}function ht(){var t,r,e;return t=U,(r=ot())!==o&&(N=t,e=r,r=function(t){let r=e(t);return!("_nocheck"in t&&1==t._nocheck)&&(r<0||r>100)&&D("Coordinate must be between 0 and 100, got "+r),r}),t=r}function pt(){var r,e,n,c;if(r=U,z.test(t.charAt(U))?(e=t.charAt(U),U++):(e=o,Y(H)),e!==o){for(n=[],Z.test(t.charAt(U))?(c=t.charAt(U),U++):(c=o,Y(B));c!==o;)n.push(c),Z.test(t.charAt(U))?(c=t.charAt(U),U++):(c=o,Y(B));n!==o?(N=r,r=e=e+n.join("")):(U=r,r=o)}else U=r,r=o;return r}let dt;if((e=u())!==o&&U===t.length)return e;throw e!==o&&U<t.length&&Y({type:"end"}),tt(q,W<t.length?t.charAt(W):null,W<t.length?X(W,W+1):X(W,W))}}},function(t,r,e){"use strict";e.r(r);var n=e(0);const o=document.getElementById("code");o.innerHTML="paper 50";const c=document.getElementById("output");let u={ctx:document.getElementById("canvas").getContext("2d"),timer:null};function a(){u.timer&&(console.log("Stopped"),clearInterval(u.timer),u.timer=null),u.ctx.clearRect(0,0,100,100);try{c.innerHTML="";Object(n.parse)(o.value)(u)}catch(t){"SyntaxError"==t.name?c.innerHTML=`${t.location.end.line}:${t.location.end.column}: ${t.message}`:c.innerHTML=t}}o.addEventListener("keyup",a),window.addEventListener("hashchange",(function(){const t=location.hash.substr(1);0==t.length?(console.log("Clear"),o.value="",a()):t.startsWith("https:")?(console.log("Fetch:",t),fetch("https://cors-anywhere.herokuapp.com/"+t).then(t=>t.text()).then(t=>{console.log("Code:",t),o.value=t,a()})):(console.log("Code:",t),o.value=decodeURI(t),a())}),!1),a()}]);