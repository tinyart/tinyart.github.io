!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e,n){"use strict";function r(t,e,n,o){this.message=t,this.expected=e,this.found=n,this.location=o,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,r)}!function(t,e){function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n}(r,Error),r.buildMessage=function(t,e){var n={literal:function(t){return'"'+o(t.text)+'"'},class:function(t){var e,n="";for(e=0;e<t.parts.length;e++)n+=t.parts[e]instanceof Array?u(t.parts[e][0])+"-"+u(t.parts[e][1]):u(t.parts[e]);return"["+(t.inverted?"^":"")+n+"]"},any:function(t){return"any character"},end:function(t){return"end of input"},other:function(t){return t.description}};function r(t){return t.charCodeAt(0).toString(16).toUpperCase()}function o(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+r(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+r(t)}))}function u(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+r(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+r(t)}))}return"Expected "+function(t){var e,r,o,u=new Array(t.length);for(e=0;e<t.length;e++)u[e]=(o=t[e],n[o.type](o));if(u.sort(),u.length>0){for(e=1,r=1;e<u.length;e++)u[e-1]!==u[e]&&(u[r]=u[e],r++);u.length=r}switch(u.length){case 1:return u[0];case 2:return u[0]+" or "+u[1];default:return u.slice(0,-1).join(", ")+", or "+u[u.length-1]}}(t)+" but "+function(t){return t?'"'+o(t)+'"':"end of input"}(e)+" found."},t.exports={SyntaxError:r,parse:function(t,e){e=void 0!==e?e:{};var n,o={},u={start:U},c=U,a=/^[0-9]/,i=I([["0","9"]],!1,!1),l=z("(",!1),f=z(")",!1),s=z("+",!1),p=z("-",!1),d=z("*",!1),h=z("/",!1),g=/^[ \t\n]/,v=I([" ","\t","\n"],!1,!1),y=z("paper",!1),A=z("pen",!1),b=z("line",!1),x=z("set",!1),m=z("[",!1),C=z("]",!1),S=z("repeat",!1),w=z("{",!1),E=z("}",!1),j=/^[_a-zA-Z]/,M=I(["_",["a","z"],["A","Z"]],!1,!1),_=/^[_a-zA-Z0-9]/,O=I(["_",["a","z"],["A","Z"],["0","9"]],!1,!1),T=0,F=0,P=[{line:1,column:1}],R=0,k=[];if("startRule"in e){if(!(e.startRule in u))throw new Error("Can't start parsing from rule \""+e.startRule+'".');c=u[e.startRule]}function L(e,n){throw n=void 0!==n?n:H(F,T),N([Z(e)],t.substring(F,T),n)}function z(t,e){return{type:"literal",text:t,ignoreCase:e}}function I(t,e,n){return{type:"class",parts:t,inverted:e,ignoreCase:n}}function Z(t){return{type:"other",description:t}}function B(e){var n,r=P[e];if(r)return r;for(n=e-1;!P[n];)n--;for(r={line:(r=P[n]).line,column:r.column};n<e;)10===t.charCodeAt(n)?(r.line++,r.column=1):r.column++,n++;return P[e]=r,r}function H(t,e){var n=B(t),r=B(e);return{start:{offset:t,line:n.line,column:n.column},end:{offset:e,line:r.line,column:r.column}}}function V(t){T<R||(T>R&&(R=T,k=[]),k.push(t))}function N(t,e,n){return new r(r.buildMessage(t,e),t,e,n)}function U(){var t,e,n;return t=T,(e=q())!==o&&(F=t,n=e,e=function(t){Y=t,console.log("Run"),n()}),t=e}function q(){var t,e,n,r,u;return t=T,K()!==o&&(e=D())!==o&&(n=q())!==o&&K()!==o?(F=t,r=e,u=n,t=function(){r(),u()}):(T=t,t=o),t===o&&(t=T,K()!==o&&(e=D())!==o?(F=t,t=e):(T=t,t=o)),t}function D(){var e;return(e=function(){var e,n,r;e=T,"paper"===t.substr(T,5)?(n="paper",T+=5):(n=o,V(y));n!==o&&K()!==o&&(r=Q())!==o?(F=e,u=r,e=n=function(){console.log("Paper",u()),Y.fillStyle=u(),Y.fillRect(0,0,100,100)}):(T=e,e=o);var u;return e}())===o&&(e=function(){var e,n,r;e=T,"pen"===t.substr(T,3)?(n="pen",T+=3):(n=o,V(A));n!==o&&K()!==o&&(r=Q())!==o?(F=e,u=r,e=n=function(){console.log("Pen",u()),Y.strokeStyle=u()}):(T=e,e=o);var u;return e}())===o&&(e=function(){var e,n,r,u,c,a;e=T,"line"===t.substr(T,4)?(n="line",T+=4):(n=o,V(b));n!==o&&K()!==o&&(r=W())!==o&&K()!==o&&(u=W())!==o&&K()!==o&&(c=W())!==o&&K()!==o&&(a=W())!==o?(F=e,i=r,l=u,f=c,s=a,e=n=function(){console.log("Line",i(),l(),f(),s()),Y.moveTo(i(),l()),Y.lineTo(f(),s()),Y.stroke()}):(T=e,e=o);var i,l,f,s;return e}())===o&&(e=function(){var e,n,r,u,c,a,i,l,f,s,p;e=T,"set"===t.substr(T,3)?(n="set",T+=3):(n=o,V(x));n!==o&&(r=K())!==o&&(u=X())!==o&&(c=K())!==o&&(a=G())!==o?(F=e,d=u,h=a,e=n=function(){console.log("Set",d,h()),$[d]=h()}):(T=e,e=o);var d,h;e===o&&(e=T,"set"===t.substr(T,3)?(n="set",T+=3):(n=o,V(x)),n!==o&&(r=K())!==o?(91===t.charCodeAt(T)?(u="[",T++):(u=o,V(m)),u!==o&&(c=K())!==o&&(a=W())!==o&&(i=K())!==o&&(l=W())!==o&&(f=K())!==o?(93===t.charCodeAt(T)?(s="]",T++):(s=o,V(C)),s!==o&&(p=Q())!==o?e=n=[n,r,u,c,a,i,l,f,s,p]:(T=e,e=o)):(T=e,e=o)):(T=e,e=o));return e}())===o&&(e=function(){var e,n,r,u,c,a,i,l;e=T,"repeat"===t.substr(T,6)?(n="repeat",T+=6):(n=o,V(S));n!==o&&K()!==o&&(r=X())!==o&&K()!==o&&(u=G())!==o&&K()!==o&&(c=G())!==o&&K()!==o?(123===t.charCodeAt(T)?(a="{",T++):(a=o,V(w)),a!==o&&(i=q())!==o?(125===t.charCodeAt(T)?(l="}",T++):(l=o,V(E)),l!==o?(F=e,f=r,s=u,p=c,d=i,e=n=function(){for(console.log("Repeat var=",f),$[f]=s();$[f]<p();$[f]++)d()}):(T=e,e=o)):(T=e,e=o)):(T=e,e=o);var f,s,p,d;return e}()),e}function G(){var e,n,r,u,c,d;if(e=T,n=[],a.test(t.charAt(T))?(r=t.charAt(T),T++):(r=o,V(i)),r!==o)for(;r!==o;)n.push(r),a.test(t.charAt(T))?(r=t.charAt(T),T++):(r=o,V(i));else n=o;return n!==o&&(F=e,c=n,n=function(){return parseInt(c.join(""),10)}),(e=n)===o&&(e=T,40===t.charCodeAt(T)?(n="(",T++):(n=o,V(l)),n!==o&&(r=function e(){var n,r,u,c;n=T,(r=J())!==o&&K()!==o?(43===t.charCodeAt(T)?(u="+",T++):(u=o,V(s)),u!==o&&K()!==o&&(c=e())!==o?(F=n,a=r,i=c,n=r=function(){return a()+i()}):(T=n,n=o)):(T=n,n=o);var a,i;n===o&&(n=T,(r=J())!==o&&K()!==o?(45===t.charCodeAt(T)?(u="-",T++):(u=o,V(p)),u!==o&&K()!==o&&(c=e())!==o?(F=n,l=r,f=c,n=r=function(){return l()-f()}):(T=n,n=o)):(T=n,n=o),n===o&&(n=J())===o&&(n=G()));var l,f;return n}())!==o?(41===t.charCodeAt(T)?(u=")",T++):(u=o,V(f)),u!==o?(F=e,e=n=r):(T=e,e=o)):(T=e,e=o),e===o&&(e=T,(n=X())!==o&&(F=e,d=n,n=function(){return $.hasOwnProperty(d)||L("Variable not defined"),console.log("Var",d),$[d]}),e=n)),e}function J(){var e,n,r,u,c,a,i,l;return e=T,(n=G())!==o&&K()!==o?(42===t.charCodeAt(T)?(r="*",T++):(r=o,V(d)),r!==o&&K()!==o&&(u=J())!==o?(F=e,c=n,a=u,e=n=function(){return c()*a()}):(T=e,e=o)):(T=e,e=o),e===o&&(e=T,(n=G())!==o&&K()!==o?(47===t.charCodeAt(T)?(r="/",T++):(r=o,V(h)),r!==o&&K()!==o&&(u=J())!==o?(F=e,i=n,l=u,e=n=function(){return i()/l()}):(T=e,e=o)):(T=e,e=o),e===o&&(e=G())),e}function K(){var e,n;for(e=[],g.test(t.charAt(T))?(n=t.charAt(T),T++):(n=o,V(v));n!==o;)e.push(n),g.test(t.charAt(T))?(n=t.charAt(T),T++):(n=o,V(v));return e}function Q(){var t,e,n;return t=T,(e=G())!==o&&(F=t,n=e,e=function(){let t=n();console.log("Color",t),(t<0||t>100)&&L("Color must be between 0 and 100"),t*=2.55;let e=Math.round(t).toString(16);return e.length<2&&(e="0"+e),"#"+e.repeat(3)}),t=e}function W(){var t,e,n;return t=T,(e=G())!==o&&(F=t,n=e,e=function(){let t=n();return console.log("Coord",t),(t<0||t>100)&&L("Coordinate must be between 0 and 100"),t}),t=e}function X(){var e,n,r,u,c;if(e=T,j.test(t.charAt(T))?(n=t.charAt(T),T++):(n=o,V(M)),n!==o){for(r=[],_.test(t.charAt(T))?(u=t.charAt(T),T++):(u=o,V(O));u!==o;)r.push(u),_.test(t.charAt(T))?(u=t.charAt(T),T++):(u=o,V(O));r!==o?(F=e,c=n,console.log("Name",c),e=n=c):(T=e,e=o)}else T=e,e=o;return e}let Y;const $={};if((n=c())!==o&&T===t.length)return n;throw n!==o&&T<t.length&&V({type:"end"}),N(k,R<t.length?t.charAt(R):null,R<t.length?H(R,R+1):H(R,R))}}},function(t,e,n){"use strict";n.r(e);var r=n(0);const o=document.getElementById("code");o.innerHTML="paper 90\nrepeat i 1 5\n{\n  pen (i*10)\n  line (i*20) 0 0 (i*20)\n}";const u=document.getElementById("output"),c=document.getElementById("canvas").getContext("2d");function a(){console.log("Code:",o.value),c.clearRect(0,0,100,100);try{u.innerHTML="";Object(r.parse)(o.value)(c)}catch(t){u.innerHTML=t}}o.addEventListener("keyup",a),a()}]);