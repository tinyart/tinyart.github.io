!function(t){var n={};function r(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=n,r.d=function(t,n,e){r.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,n){if(1&n&&(t=r(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)r.d(e,o,function(n){return t[n]}.bind(null,o));return e},r.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(n,"a",n),n},r.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},r.p="",r(r.s=1)}([function(t,n,r){"use strict";function e(t,n,r,o){this.message=t,this.expected=n,this.found=r,this.location=o,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,e)}!function(t,n){function r(){this.constructor=t}r.prototype=n.prototype,t.prototype=new r}(e,Error),e.buildMessage=function(t,n){var r={literal:function(t){return'"'+o(t.text)+'"'},class:function(t){var n,r="";for(n=0;n<t.parts.length;n++)r+=t.parts[n]instanceof Array?c(t.parts[n][0])+"-"+c(t.parts[n][1]):c(t.parts[n]);return"["+(t.inverted?"^":"")+r+"]"},any:function(t){return"any character"},end:function(t){return"end of input"},other:function(t){return t.description}};function e(t){return t.charCodeAt(0).toString(16).toUpperCase()}function o(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+e(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+e(t)}))}function c(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+e(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+e(t)}))}return"Expected "+function(t){var n,e,o,c=new Array(t.length);for(n=0;n<t.length;n++)c[n]=(o=t[n],r[o.type](o));if(c.sort(),c.length>0){for(n=1,e=1;n<c.length;n++)c[n-1]!==c[n]&&(c[e]=c[n],e++);c.length=e}switch(c.length){case 1:return c[0];case 2:return c[0]+" or "+c[1];default:return c.slice(0,-1).join(", ")+", or "+c[c.length-1]}}(t)+" but "+function(t){return t?'"'+o(t)+'"':"end of input"}(n)+" found."},t.exports={SyntaxError:e,parse:function(t,n){n=void 0!==n?n:{};var r,o={},c={start:K},u=K,a=/^[0-9]/,i=V([["0","9"]],!1,!1),f=U("(",!1),l=U(")",!1),s=U("+",!1),h=U("-",!1),p=U("*",!1),d=U("/",!1),g=/^[ \t\n]/,v=V([" ","\t","\n"],!1,!1),A=U("//",!1),m=/^[^\n]/,y=V(["\n"],!0,!1),b=U("paper",!1),x=U("pen",!1),C=U("line",!1),w=U("set",!1),S=U("[",!1),E=U("]",!1),_=U("repeat",!1),j=U("{",!1),M=U("}",!1),k=U("command",!1),O=U("\n",!1),T=U("log",!1),F=/^[_a-zA-Z]/,R=V(["_",["a","z"],["A","Z"]],!1,!1),L=/^[_a-zA-Z0-9]/,P=V(["_",["a","z"],["A","Z"],["0","9"]],!1,!1),$=0,I=0,z=[{line:1,column:1}],H=0,Z=[];if("startRule"in n){if(!(n.startRule in c))throw new Error("Can't start parsing from rule \""+n.startRule+'".');u=c[n.startRule]}function B(n,r){throw r=void 0!==r?r:D(I,$),J([W(n)],t.substring(I,$),r)}function U(t,n){return{type:"literal",text:t,ignoreCase:n}}function V(t,n,r){return{type:"class",parts:t,inverted:n,ignoreCase:r}}function W(t){return{type:"other",description:t}}function q(n){var r,e=z[n];if(e)return e;for(r=n-1;!z[r];)r--;for(e={line:(e=z[r]).line,column:e.column};r<n;)10===t.charCodeAt(r)?(e.line++,e.column=1):e.column++,r++;return z[n]=e,e}function D(t,n){var r=q(t),e=q(n);return{start:{offset:t,line:r.line,column:r.column},end:{offset:n,line:e.line,column:e.column}}}function G(t){$<H||($>H&&(H=$,Z=[]),Z.push(t))}function J(t,n,r){return new e(e.buildMessage(t,n),t,n,r)}function K(){var t,n,r;return t=$,(n=N())!==o&&tt()!==o?(I=t,r=n,t=n=function(t){it=t,r({})}):($=t,t=o),t}function N(){var t,n,r,e,c;return t=$,tt()!==o&&(n=Q())!==o&&(r=N())!==o?(I=t,e=n,c=r,t=function(t){e(t),c(t)}):($=t,t=o),t===o&&(t=$,tt()!==o&&(n=Q())!==o?(I=t,t=n):($=t,t=o)),t}function Q(){var n;return(n=function(){var n,r,e;n=$,"paper"===t.substr($,5)?(r="paper",$+=5):(r=o,G(b));r!==o&&tt()!==o&&(e=ct())!==o?(I=n,c=e,n=r=function(t){it.fillStyle=c(t),it.fillRect(0,0,100,100)}):($=n,n=o);var c;return n}())===o&&(n=function(){var n,r,e;n=$,"pen"===t.substr($,3)?(r="pen",$+=3):(r=o,G(x));r!==o&&tt()!==o&&(e=ct())!==o?(I=n,c=e,n=r=function(t){it.strokeStyle=c(t)}):($=n,n=o);var c;return n}())===o&&(n=function(){var n,r,e,c,u,a;n=$,"line"===t.substr($,4)?(r="line",$+=4):(r=o,G(C));r!==o&&tt()!==o&&(e=ut())!==o&&tt()!==o&&(c=ut())!==o&&tt()!==o&&(u=ut())!==o&&tt()!==o&&(a=ut())!==o?(I=n,i=e,f=c,l=u,s=a,n=r=function(t){it.moveTo(i(t),f(t)),it.lineTo(l(t),s(t)),it.stroke()}):($=n,n=o);var i,f,l,s;return n}())===o&&(n=function(){var n,r,e,c,u,a,i;n=$,"set"===t.substr($,3)?(r="set",$+=3):(r=o,G(w));r!==o&&tt()!==o&&(e=at())!==o&&tt()!==o&&(c=X())!==o?(I=n,f=e,l=c,n=r=function(t){t[f]=l(t)}):($=n,n=o);var f,l;n===o&&(n=$,"set"===t.substr($,3)?(r="set",$+=3):(r=o,G(w)),r!==o&&tt()!==o?(91===t.charCodeAt($)?(e="[",$++):(e=o,G(S)),e!==o&&tt()!==o&&(c=ut())!==o&&tt()!==o&&(u=ut())!==o&&tt()!==o?(93===t.charCodeAt($)?(a="]",$++):(a=o,G(E)),a!==o&&tt()!==o&&(i=ct())!==o?(I=n,s=c,h=u,p=i,n=r=function(t){it.fillStyle=p(t),it.fillRect(s(t),h(t),1,1)}):($=n,n=o)):($=n,n=o)):($=n,n=o));var s,h,p;return n}())===o&&(n=function(){var n,r,e,c,u,a,i,f;n=$,"repeat"===t.substr($,6)?(r="repeat",$+=6):(r=o,G(_));r!==o&&tt()!==o&&(e=at())!==o&&tt()!==o&&(c=X())!==o&&tt()!==o&&(u=X())!==o&&tt()!==o?(123===t.charCodeAt($)?(a="{",$++):(a=o,G(j)),a!==o&&(i=N())!==o&&tt()!==o?(125===t.charCodeAt($)?(f="}",$++):(f=o,G(M)),f!==o?(I=n,l=e,s=c,h=u,p=i,n=r=function(t){for(t[l]=s(t);t[l]<h(t);t[l]++)p(t)}):($=n,n=o)):($=n,n=o)):($=n,n=o);var l,s,h,p;return n}())===o&&(n=function(){var n,r,e,c,u,a,i;n=$,"command"===t.substr($,7)?(r="command",$+=7):(r=o,G(k));r!==o&&tt()!==o&&(e=at())!==o&&(c=function t(){var n,r,e;n=$,(r=et())!==o&&(e=t())!==o?(I=n,c=r,(u=e).unshift(c),n=r=u):($=n,n=o);var c,u;n===o&&(n=$,(r=et())!==o&&(I=n,r=function(t){return[t]}(r)),n=r);return n}())!==o&&tt()!==o?(123===t.charCodeAt($)?(u="{",$++):(u=o,G(j)),u!==o&&(a=N())!==o&&tt()!==o?(125===t.charCodeAt($)?(i="}",$++):(i=o,G(M)),i!==o?(I=n,f=e,l=c,s=a,n=r=function(t){t[f]=function(n,r){const e={...t,...n};l.forEach((function(t,n){e[t]=r[n](e)})),console.log(e),s(e)}}):($=n,n=o)):($=n,n=o)):($=n,n=o);var f,l,s;return n}())===o&&(n=function(){var n,r,e;n=$,"log"===t.substr($,3)?(r="log",$+=3):(r=o,G(T));r!==o&&tt()!==o&&(e=X())!==o?(I=n,c=e,n=r=function(t){console.log("Log",c(t))}):($=n,n=o);var c;return n}())===o&&(n=function(){var n,r,e,c;n=$,(r=at())!==o&&(e=function t(){var n,r,e;n=$,(r=ot())!==o&&(e=t())!==o?(I=n,c=r,(u=e).unshift(c),n=r=u):($=n,n=o);var c,u;n===o&&(n=$,(r=ot())!==o&&(I=n,r=function(t){return[t]}(r)),n=r);return n}())!==o?(10===t.charCodeAt($)?(c="\n",$++):(c=o,G(O)),c!==o?(I=n,u=r,a=e,n=r=function(t){return t.hasOwnProperty(u)||B(`Command ${u} not defined`),console.log("Cmd",u),t[u](t,a)}):($=n,n=o)):($=n,n=o);var u,a;return n}()),n}function X(){var n,r,e,c,u,p;if(n=$,r=[],a.test(t.charAt($))?(e=t.charAt($),$++):(e=o,G(i)),e!==o)for(;e!==o;)r.push(e),a.test(t.charAt($))?(e=t.charAt($),$++):(e=o,G(i));else r=o;return r!==o&&(I=n,u=r,r=function(){return parseInt(u.join(""),10)}),(n=r)===o&&(n=$,40===t.charCodeAt($)?(r="(",$++):(r=o,G(f)),r!==o&&(e=function n(){var r,e,c,u;r=$,(e=Y())!==o&&tt()!==o?(43===t.charCodeAt($)?(c="+",$++):(c=o,G(s)),c!==o&&tt()!==o&&(u=n())!==o?(I=r,a=e,i=u,r=e=function(t){return a(t)+i(t)}):($=r,r=o)):($=r,r=o);var a,i;r===o&&(r=$,(e=Y())!==o&&tt()!==o?(45===t.charCodeAt($)?(c="-",$++):(c=o,G(h)),c!==o&&tt()!==o&&(u=n())!==o?(I=r,f=e,l=u,r=e=function(t){return f(t)-l(t)}):($=r,r=o)):($=r,r=o),r===o&&(r=Y())===o&&(r=X()));var f,l;return r}())!==o?(41===t.charCodeAt($)?(c=")",$++):(c=o,G(l)),c!==o?(I=n,n=r=e):($=n,n=o)):($=n,n=o),n===o&&(n=$,(r=at())!==o&&(I=n,p=r,r=function(t){return t.hasOwnProperty(p)||B(`Variable ${p}Â not defined`),t[p]}),n=r)),n}function Y(){var n,r,e,c,u,a,i,f;return n=$,(r=X())!==o&&tt()!==o?(42===t.charCodeAt($)?(e="*",$++):(e=o,G(p)),e!==o&&tt()!==o&&(c=Y())!==o?(I=n,u=r,a=c,n=r=function(t){return u(t)*a(t)}):($=n,n=o)):($=n,n=o),n===o&&(n=$,(r=X())!==o&&tt()!==o?(47===t.charCodeAt($)?(e="/",$++):(e=o,G(d)),e!==o&&tt()!==o&&(c=Y())!==o?(I=n,i=r,f=c,n=r=function(t){return i(t)/f(t)}):($=n,n=o)):($=n,n=o),n===o&&(n=X())),n}function tt(){var n,r,e,c;for(n=$,r=[],e=rt();e!==o;)r.push(e),e=rt();if(r!==o){for(e=[],g.test(t.charAt($))?(c=t.charAt($),$++):(c=o,G(v));c!==o;)e.push(c),g.test(t.charAt($))?(c=t.charAt($),$++):(c=o,G(v));e!==o?n=r=[r,e]:($=n,n=o)}else $=n,n=o;return n}function nt(){var n,r,e,c;for(n=$,r=[],e=rt();e!==o;)r.push(e),e=rt();if(r!==o){if(e=[],g.test(t.charAt($))?(c=t.charAt($),$++):(c=o,G(v)),c!==o)for(;c!==o;)e.push(c),g.test(t.charAt($))?(c=t.charAt($),$++):(c=o,G(v));else e=o;e!==o?n=r=[r,e]:($=n,n=o)}else $=n,n=o;return n}function rt(){var n,r,e,c,u;for(n=$,r=[],g.test(t.charAt($))?(e=t.charAt($),$++):(e=o,G(v));e!==o;)r.push(e),g.test(t.charAt($))?(e=t.charAt($),$++):(e=o,G(v));if(r!==o)if("//"===t.substr($,2)?(e="//",$+=2):(e=o,G(A)),e!==o){for(c=[],m.test(t.charAt($))?(u=t.charAt($),$++):(u=o,G(y));u!==o;)c.push(u),m.test(t.charAt($))?(u=t.charAt($),$++):(u=o,G(y));c!==o?n=r=[r,e,c]:($=n,n=o)}else $=n,n=o;else $=n,n=o;return n}function et(){var t,n;return t=$,nt()!==o&&(n=at())!==o?(I=t,t=n):($=t,t=o),t}function ot(){var t,n;return t=$,nt()!==o&&(n=X())!==o?(I=t,t=n):($=t,t=o),t}function ct(){var t,n,r;return t=$,(n=X())!==o&&(I=t,r=n,n=function(t){let n=r(t);!("_nocheck"in t&&1==t._nocheck)&&(n<0||n>100)&&B("Color must be between 0 and 100, got ${color}"),n*=2.55;let e=Math.round(n).toString(16);return e.length<2&&(e="0"+e),"#"+e.repeat(3)}),t=n}function ut(){var t,n,r;return t=$,(n=X())!==o&&(I=t,r=n,n=function(t){let n=r(t);return!("_nocheck"in t&&1==t._nocheck)&&(n<0||n>100)&&B("Coordinate must be between 0 and 100, got "+n),n}),t=n}function at(){var n,r,e,c;if(n=$,F.test(t.charAt($))?(r=t.charAt($),$++):(r=o,G(R)),r!==o){for(e=[],L.test(t.charAt($))?(c=t.charAt($),$++):(c=o,G(P));c!==o;)e.push(c),L.test(t.charAt($))?(c=t.charAt($),$++):(c=o,G(P));e!==o?(I=n,n=r=r+e.join("")):($=n,n=o)}else $=n,n=o;return n}let it;if((r=u())!==o&&$===t.length)return r;throw r!==o&&$<t.length&&G({type:"end"}),J(Z,H<t.length?t.charAt(H):null,H<t.length?D(H,H+1):D(H,H))}}},function(t,n,r){"use strict";r.r(n);var e=r(0);const o=document.getElementById("code");o.innerHTML="paper 50";const c=document.getElementById("output"),u=document.getElementById("canvas").getContext("2d");function a(){u.clearRect(0,0,100,100);try{c.innerHTML="";Object(e.parse)(o.value)(u)}catch(t){"SyntaxError"==t.name?c.innerHTML=`${t.location.end.line}:${t.location.end.column}: ${t.message}`:c.innerHTML=t}}o.addEventListener("keyup",a),window.addEventListener("hashchange",(function(){const t=location.hash.substr(1);0==t.length?(console.log("Clear"),o.value="",a()):t.startsWith("https:")?(console.log("Fetch:",t),fetch("https://cors-anywhere.herokuapp.com/"+t).then(t=>t.text()).then(t=>{console.log("Code:",t),o.value=t,a()})):(console.log("Code:",t),o.value=decodeURI(t),a())}),!1),a()}]);