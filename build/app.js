!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e,n){"use strict";function r(t,e,n,o){this.message=t,this.expected=e,this.found=n,this.location=o,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,r)}!function(t,e){function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n}(r,Error),r.buildMessage=function(t,e){var n={literal:function(t){return'"'+o(t.text)+'"'},class:function(t){var e,n="";for(e=0;e<t.parts.length;e++)n+=t.parts[e]instanceof Array?u(t.parts[e][0])+"-"+u(t.parts[e][1]):u(t.parts[e]);return"["+(t.inverted?"^":"")+n+"]"},any:function(t){return"any character"},end:function(t){return"end of input"},other:function(t){return t.description}};function r(t){return t.charCodeAt(0).toString(16).toUpperCase()}function o(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+r(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+r(t)}))}function u(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+r(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+r(t)}))}return"Expected "+function(t){var e,r,o,u=new Array(t.length);for(e=0;e<t.length;e++)u[e]=(o=t[e],n[o.type](o));if(u.sort(),u.length>0){for(e=1,r=1;e<u.length;e++)u[e-1]!==u[e]&&(u[r]=u[e],r++);u.length=r}switch(u.length){case 1:return u[0];case 2:return u[0]+" or "+u[1];default:return u.slice(0,-1).join(", ")+", or "+u[u.length-1]}}(t)+" but "+function(t){return t?'"'+o(t)+'"':"end of input"}(e)+" found."},t.exports={SyntaxError:r,parse:function(t,e){e=void 0!==e?e:{};var n,o={},u={start:q},c=q,a=I("\n",!1),i=/^[0-9]/,l=Z([["0","9"]],!1,!1),f=I("(",!1),s=I(")",!1),p=I("+",!1),d=I("-",!1),h=I("*",!1),g=I("/",!1),v=/^[ \t]/,A=Z([" ","\t"],!1,!1),y=I("paper",!1),b=I("pen",!1),x=I("line",!1),m=I("set",!1),C=I("[",!1),S=I("]",!1),w=/^[_a-zA-Z]/,E=Z(["_",["a","z"],["A","Z"]],!1,!1),j=/^[_a-zA-Z0-9]/,M=Z(["_",["a","z"],["A","Z"],["0","9"]],!1,!1),_=I("repeat",!1),O=I("{",!1),T=I("}",!1),F=0,P=0,R=[{line:1,column:1}],k=0,L=[];if("startRule"in e){if(!(e.startRule in u))throw new Error("Can't start parsing from rule \""+e.startRule+'".');c=u[e.startRule]}function z(e,n){throw n=void 0!==n?n:V(P,F),U([B(e)],t.substring(P,F),n)}function I(t,e){return{type:"literal",text:t,ignoreCase:e}}function Z(t,e,n){return{type:"class",parts:t,inverted:e,ignoreCase:n}}function B(t){return{type:"other",description:t}}function H(e){var n,r=R[e];if(r)return r;for(n=e-1;!R[n];)n--;for(r={line:(r=R[n]).line,column:r.column};n<e;)10===t.charCodeAt(n)?(r.line++,r.column=1):r.column++,n++;return R[e]=r,r}function V(t,e){var n=H(t),r=H(e);return{start:{offset:t,line:n.line,column:n.column},end:{offset:e,line:r.line,column:r.column}}}function N(t){F<k||(F>k&&(k=F,L=[]),L.push(t))}function U(t,e,n){return new r(r.buildMessage(t,e),t,e,n)}function q(){var t,e,n;return t=F,(e=D())!==o&&(P=t,n=e,e=function(t){$=t,console.log("Run"),n()}),t=e}function D(){var e,n,r,u,c,i;return e=F,(n=G())!==o?(10===t.charCodeAt(F)?(r="\n",F++):(r=o,N(a)),r!==o&&(u=D())!==o?(P=e,c=n,i=u,e=n=function(){c(),i()}):(F=e,e=o)):(F=e,e=o),e===o&&(e=G()),e}function G(){var e;return(e=function(){var e,n,r;e=F,Q()!==o?("paper"===t.substr(F,5)?(n="paper",F+=5):(n=o,N(y)),n!==o&&Q()!==o&&(r=W())!==o?(P=e,u=r,e=function(){console.log("Paper",u()),$.fillStyle=u(),$.fillRect(0,0,100,100)}):(F=e,e=o)):(F=e,e=o);var u;return e}())===o&&(e=function(){var e,n,r;e=F,Q()!==o?("pen"===t.substr(F,3)?(n="pen",F+=3):(n=o,N(b)),n!==o&&Q()!==o&&(r=W())!==o?(P=e,u=r,e=function(){console.log("Pen",u()),$.strokeStyle=u()}):(F=e,e=o)):(F=e,e=o);var u;return e}())===o&&(e=function(){var e,n,r,u,c,a;e=F,Q()!==o?("line"===t.substr(F,4)?(n="line",F+=4):(n=o,N(x)),n!==o&&Q()!==o&&(r=X())!==o&&Q()!==o&&(u=X())!==o&&Q()!==o&&(c=X())!==o&&Q()!==o&&(a=X())!==o?(P=e,i=r,l=u,f=c,s=a,e=function(){console.log("Line",i(),l(),f(),s()),$.moveTo(i(),l()),$.lineTo(f(),s()),$.stroke()}):(F=e,e=o)):(F=e,e=o);var i,l,f,s;return e}())===o&&(e=function(){var e,n,r,u,c,a,i,l,f,s,p,d;e=F,(n=Q())!==o?("set"===t.substr(F,3)?(r="set",F+=3):(r=o,N(m)),r!==o&&(u=Q())!==o&&(c=Y())!==o&&(a=Q())!==o&&(i=J())!==o?(P=e,h=c,g=i,e=n=function(){console.log("Set",h,g()),tt[h]=g()}):(F=e,e=o)):(F=e,e=o);var h,g;e===o&&(e=F,(n=Q())!==o?("set"===t.substr(F,3)?(r="set",F+=3):(r=o,N(m)),r!==o&&(u=Q())!==o?(91===t.charCodeAt(F)?(c="[",F++):(c=o,N(C)),c!==o&&(a=Q())!==o&&(i=X())!==o&&(l=Q())!==o&&(f=X())!==o&&(s=Q())!==o?(93===t.charCodeAt(F)?(p="]",F++):(p=o,N(S)),p!==o&&(d=W())!==o?e=n=[n,r,u,c,a,i,l,f,s,p,d]:(F=e,e=o)):(F=e,e=o)):(F=e,e=o)):(F=e,e=o));return e}())===o&&(e=function(){var e,n,r,u,c,i,l,f,s,p,d;e=F,Q()!==o?("repeat"===t.substr(F,6)?(n="repeat",F+=6):(n=o,N(_)),n!==o&&Q()!==o&&(r=Y())!==o&&Q()!==o&&(u=J())!==o&&Q()!==o&&(c=J())!==o?(10===t.charCodeAt(F)?(i="\n",F++):(i=o,N(a)),i!==o&&Q()!==o?(123===t.charCodeAt(F)?(l="{",F++):(l=o,N(O)),l!==o?(10===t.charCodeAt(F)?(f="\n",F++):(f=o,N(a)),f!==o&&Q()!==o&&(s=D())!==o?(10===t.charCodeAt(F)?(p="\n",F++):(p=o,N(a)),p!==o&&Q()!==o?(125===t.charCodeAt(F)?(d="}",F++):(d=o,N(T)),d!==o?(P=e,h=r,g=u,v=c,A=s,e=function(){for(console.log("Repeat var=",h),tt[h]=g();tt[h]<v();tt[h]++)A()}):(F=e,e=o)):(F=e,e=o)):(F=e,e=o)):(F=e,e=o)):(F=e,e=o)):(F=e,e=o)):(F=e,e=o);var h,g,v,A;return e}()),e}function J(){var e,n,r,u,c,a;if(e=F,n=[],i.test(t.charAt(F))?(r=t.charAt(F),F++):(r=o,N(l)),r!==o)for(;r!==o;)n.push(r),i.test(t.charAt(F))?(r=t.charAt(F),F++):(r=o,N(l));else n=o;return n!==o&&(P=e,c=n,n=function(){return parseInt(c.join(""),10)}),(e=n)===o&&(e=F,40===t.charCodeAt(F)?(n="(",F++):(n=o,N(f)),n!==o&&(r=function e(){var n,r,u,c;n=F,(r=K())!==o&&Q()!==o?(43===t.charCodeAt(F)?(u="+",F++):(u=o,N(p)),u!==o&&Q()!==o&&(c=e())!==o?(P=n,a=r,i=c,n=r=function(){return a()+i()}):(F=n,n=o)):(F=n,n=o);var a,i;n===o&&(n=F,(r=K())!==o&&Q()!==o?(45===t.charCodeAt(F)?(u="-",F++):(u=o,N(d)),u!==o&&Q()!==o&&(c=e())!==o?(P=n,l=r,f=c,n=r=function(){return l()-f()}):(F=n,n=o)):(F=n,n=o),n===o&&(n=K())===o&&(n=J()));var l,f;return n}())!==o?(41===t.charCodeAt(F)?(u=")",F++):(u=o,N(s)),u!==o?(P=e,e=n=r):(F=e,e=o)):(F=e,e=o),e===o&&(e=F,(n=Y())!==o&&(P=e,a=n,n=function(){return tt.hasOwnProperty(a)||z("Variable not defined"),console.log("Var",a),tt[a]}),e=n)),e}function K(){var e,n,r,u,c,a,i,l;return e=F,(n=J())!==o&&Q()!==o?(42===t.charCodeAt(F)?(r="*",F++):(r=o,N(h)),r!==o&&Q()!==o&&(u=K())!==o?(P=e,c=n,a=u,e=n=function(){return c()*a()}):(F=e,e=o)):(F=e,e=o),e===o&&(e=F,(n=J())!==o&&Q()!==o?(47===t.charCodeAt(F)?(r="/",F++):(r=o,N(g)),r!==o&&Q()!==o&&(u=K())!==o?(P=e,i=n,l=u,e=n=function(){return i()/l()}):(F=e,e=o)):(F=e,e=o),e===o&&(e=J())),e}function Q(){var e,n;for(e=[],v.test(t.charAt(F))?(n=t.charAt(F),F++):(n=o,N(A));n!==o;)e.push(n),v.test(t.charAt(F))?(n=t.charAt(F),F++):(n=o,N(A));return e}function W(){var t,e,n;return t=F,(e=J())!==o&&(P=t,n=e,e=function(){let t=n();console.log("Color",t),(t<0||t>100)&&z("Color must be between 0 and 100"),t*=2.55;let e=Math.round(t).toString(16);return e.length<2&&(e="0"+e),"#"+e.repeat(3)}),t=e}function X(){var t,e,n;return t=F,(e=J())!==o&&(P=t,n=e,e=function(){let t=n();return console.log("Coord",t),(t<0||t>100)&&z("Coordinate must be between 0 and 100"),t}),t=e}function Y(){var e,n,r,u,c;if(e=F,w.test(t.charAt(F))?(n=t.charAt(F),F++):(n=o,N(E)),n!==o){for(r=[],j.test(t.charAt(F))?(u=t.charAt(F),F++):(u=o,N(M));u!==o;)r.push(u),j.test(t.charAt(F))?(u=t.charAt(F),F++):(u=o,N(M));r!==o?(P=e,c=n,console.log("Name",c),e=n=c):(F=e,e=o)}else F=e,e=o;return e}let $;const tt={};if((n=c())!==o&&F===t.length)return n;throw n!==o&&F<t.length&&N({type:"end"}),U(L,k<t.length?t.charAt(k):null,k<t.length?V(k,k+1):V(k,k))}}},function(t,e,n){"use strict";n.r(e);var r=n(0);const o=document.getElementById("code");o.innerHTML="paper 90\nrepeat i 1 5 {\n  pen (i*10)\n  line (i*20) 0 0 (i*20)\n}";const u=document.getElementById("output"),c=document.getElementById("canvas").getContext("2d");function a(){console.log("Code:",o.value),c.clearRect(0,0,100,100);try{u.innerHTML="";Object(r.parse)(o.value)(c)}catch(t){u.innerHTML=t}}o.addEventListener("keyup",a),a()}]);